<ion-content [fullscreen]="true">
  <form [formGroup]="applyForm" (ngSubmit)="unosForme()">
    <div class="week-container">

      <div class="prev-next-div">
        <button (click)="previousWeek()" class="prevBtn">Prethodni tjedan</button>
        <button (click)="nextWeek()" class="nextBtn">Sljedeći tjedan</button>
      </div>
      
      <div *ngFor="let day of currentWeek; let i = index">
        <div class="days">

          <div class="day">
          <span>{{ ['Pon', 'Uto', 'Sri', 'Čet', 'Pet', 'Sub', 'Ned'][i] }}</span>
          <span>{{ day }}</span>
          </div>
    

          <div class="hours">

            <div class="sum">
            <p>Ukupno:</p>
            </div>

            <div class="hour">
              <span *ngFor="let hour of hoursByDate[day]?.hours">
                {{ hour }}
              </span>
            <p>{{ hoursByDate[day]?.sum || 0 }}</p>
            </div>
             
          </div>

          <button (click)="selectDate(day)" class="izaberiBtn">Izaberi datum</button>


        </div>
      </div>
    </div>

    <h1>Unos radnog vremena</h1>

      <ion-label position="stacked"><p>Datum:</p></ion-label>
      <p *ngIf="!selectedDate">Niste izabrali datum</p>
      <p *ngIf="selectedDate">{{ selectedDate }}</p>
      <ion-input id="date" type="hidden" name="date" required="" [value]="selectedDate" formControlName="datum"></ion-input>

      <hr>

      <p>Vrsta unosa:</p>
    <select name="type" id="type" formControlName="vrsta">
      <option value="" disabled selected>Izaberite vrstu unosa</option>
      <option *ngFor="let type of types"  [value]="type.id">{{ type?.title }}</option>
    </select>

    <hr>

    <p>Lokacija posla:</p>
    <select name="location" id="location" formControlName="lokacija">
      <option value="" disabled selected>Izaberite lokaciju</option>
      <option *ngFor="let location of locations"  [value]="location.id">{{ location?.title }}</option>
    </select>

    <hr>

    <p>Broj radnih sati:</p>
    <select name="hours" id="hours" formControlName="sati">
      <option value="" disabled selected>Izaberite sate</option>
      <option value="0.5">0.5</option>
      <option value="1">1</option>
      <option value="1.5">1.5</option>
      <option value="2">2</option>
      <option value="2.5">2.5</option>
      <option value="3">3</option>
      <option value="3.5">3.5</option>
      <option value="4">4</option>
      <option value="4.5">4.5</option>
      <option value="5">5</option>
      <option value="5.5">5.5</option>
      <option value="6">6</option>
      <option value="6.5">6.5</option>
      <option value="7">7</option>
      <option value="7.5">7.5</option>
      <option value="8">8</option>
      <option value="8.5">8.5</option>
      <option value="9">9</option>
      <option value="9.5">9.5</option>
      <option value="10">10</option>
      <option value="10.5">10.5</option>
      <option value="11">11</option>
      <option value="11.5">11.5</option>
      <option value="12">12</option>
      <option value="12.5">12.5</option>
      <option value="13">13</option>
      <option value="13.5">13.5</option>
      <option value="14">14</option>
    </select>
  
    <button type="submit" class="submitBtn">UNESI</button>
    
  </form>

  <div *ngIf="formSubmitted && !errorMessage" class="formSend">Podaci su uspješno poslani!</div>

  <div *ngIf="errorMessage" class="formSend">{{ errorMessage }}</div>

  <nav>
  <a (click)="navHours()">Unos radnog vremena</a>
  <a (click)="navLokacija()">Pregled lokacija</a>
  <a (click)="navProfil()">Moj profil</a>
  <a (click)="navOdjava()">Odjava iz sustava</a>
  </nav>
  
</ion-content>

